<html>
<head>
<title>Data Processing.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #999999; font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,0,128); font-weight: bold; }
.s1 { color: rgb(0,0,0); }
.s2 { color: rgb(0,128,128); font-weight: bold; }
.s3 { color: rgb(128,128,128); font-style: italic; }
.s4 { color: rgb(0,0,255); }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
Data Processing.py</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">import </span><span class="s1">matplotlib.pyplot </span><span class="s0">as </span><span class="s1">pyplot 
</span><span class="s0">from </span><span class="s1">tkinter </span><span class="s0">import </span><span class="s1">Tk 
</span><span class="s0">from </span><span class="s1">tkinter </span><span class="s0">import </span><span class="s1">filedialog 
</span><span class="s0">import </span><span class="s1">sys 
 
pyplot.rcParams[</span><span class="s2">'font.sans-serif'</span><span class="s1">] = </span><span class="s2">&quot;Times New Roman&quot;</span><span class="s1"> 
pyplot.rcParams[</span><span class="s2">'font.family'</span><span class="s1">] = </span><span class="s2">&quot;sans-serif&quot;</span><span class="s1"> 
 
Tk().withdraw()  </span><span class="s3"># we don't want a full GUI, so keep the root window from appearing</span><span class="s1"> 
filename = filedialog.askopenfilename()  </span><span class="s3"># show an &quot;Open&quot; dialog box and return the path to the selected file</span><span class="s1"> 
fp = open(filename, </span><span class="s2">'r'</span><span class="s1">)     </span><span class="s3"># Open file in read mode</span><span class="s1"> 
 
t = [] 
ACCx = [] 
ACCy = [] 
ACCz = [] 
accx = [] 
accy = [] 
accz = [] 
GRYx = [] 
GRYy = [] 
GRYz = [] 
MAGx = [] 
MAGy = [] 
MAGz = [] 
temp = [] 
pres = [] 
alt = [] 
 
fp.readline() 
 
</span><span class="s0">for </span><span class="s1">line </span><span class="s0">in </span><span class="s1">fp.readlines(): 
    cols = line.split(</span><span class="s2">','</span><span class="s1">) 
    </span><span class="s0">if </span><span class="s1">len(t) == </span><span class="s4">0</span><span class="s1">: 
        start_time = float(cols[</span><span class="s4">1</span><span class="s1">]) 
 
    t.append(float(cols[</span><span class="s4">1</span><span class="s1">])-start_time) 
    ACCx.append(float(cols[</span><span class="s4">2</span><span class="s1">])) 
    ACCy.append(float(cols[</span><span class="s4">3</span><span class="s1">])) 
    ACCz.append(float(cols[</span><span class="s4">4</span><span class="s1">])) 
    accx.append(float(cols[</span><span class="s4">5</span><span class="s1">])) 
    accy.append(float(cols[</span><span class="s4">6</span><span class="s1">])) 
    accz.append(float(cols[</span><span class="s4">7</span><span class="s1">])) 
    GRYx.append(float(cols[</span><span class="s4">8</span><span class="s1">])) 
    GRYy.append(float(cols[</span><span class="s4">9</span><span class="s1">])) 
    GRYz.append(float(cols[</span><span class="s4">10</span><span class="s1">])) 
    MAGx.append(float(cols[</span><span class="s4">11</span><span class="s1">])) 
    MAGy.append(float(cols[</span><span class="s4">12</span><span class="s1">])) 
    MAGz.append(float(cols[</span><span class="s4">13</span><span class="s1">])) 
    temp.append(float(cols[</span><span class="s4">14</span><span class="s1">])) 
    pres.append(float(cols[</span><span class="s4">15</span><span class="s1">])) 
    alt_reading = cols[</span><span class="s4">16</span><span class="s1">] 
    alt.append(float(alt_reading[:-</span><span class="s4">2</span><span class="s1">])) 
 
</span><span class="s3"># Plot Results</span><span class="s1"> 
 
pyplot.subplot(</span><span class="s4">131</span><span class="s1">) 
pyplot.title(</span><span class="s2">'IMU Acceleration vs. Time'</span><span class="s1">, fontsize=</span><span class="s4">15</span><span class="s1">, weight=</span><span class="s2">'bold'</span><span class="s1">) 
pyplot.plot(t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], ACCx[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], ACCy[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], ACCz[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], linewidth=</span><span class="s4">1</span><span class="s1">) 
pyplot.xlabel(</span><span class="s2">'Time (s)'</span><span class="s1">) 
pyplot.ylabel(</span><span class="s2">'Acceleration (Gs)'</span><span class="s1">) 
axis_labels = [</span><span class="s2">'X-Axis'</span><span class="s1">, </span><span class="s2">'Y-Axis'</span><span class="s1">, </span><span class="s2">'Z-Axis'</span><span class="s1">] 
pyplot.legend(axis_labels) 
 
 
pyplot.subplot(</span><span class="s4">132</span><span class="s1">) 
pyplot.title(</span><span class="s2">'ADXL377 Acceleration vs. Time'</span><span class="s1">, fontsize=</span><span class="s4">15</span><span class="s1">, weight=</span><span class="s2">'bold'</span><span class="s1">) 
pyplot.plot(t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], accx[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], accy[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], accz[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], linewidth=</span><span class="s4">1</span><span class="s1">) 
pyplot.xlabel(</span><span class="s2">'Time (s)'</span><span class="s1">) 
pyplot.ylabel(</span><span class="s2">'Acceleration (Gs)'</span><span class="s1">) 
axis_labels = [</span><span class="s2">'X-Axis'</span><span class="s1">, </span><span class="s2">'Y-Axis'</span><span class="s1">, </span><span class="s2">'Z-Axis'</span><span class="s1">] 
pyplot.legend(axis_labels) 
 
pyplot.subplot(</span><span class="s4">133</span><span class="s1">) 
pyplot.title(</span><span class="s2">'Rotation vs. Time'</span><span class="s1">, fontsize=</span><span class="s4">15</span><span class="s1">, weight=</span><span class="s2">'bold'</span><span class="s1">) 
pyplot.plot(t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], GRYx[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], GRYy[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], t[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], GRYz[</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1200</span><span class="s1">], linewidth=</span><span class="s4">1</span><span class="s1">) 
pyplot.xlabel(</span><span class="s2">'Time (s)'</span><span class="s1">) 
pyplot.ylabel(</span><span class="s2">'Rotation Rate (deg/s)'</span><span class="s1">) 
axis_labels = [</span><span class="s2">'X-Axis'</span><span class="s1">, </span><span class="s2">'Y-Axis'</span><span class="s1">, </span><span class="s2">'Z-Axis'</span><span class="s1">] 
pyplot.legend(axis_labels) 
 
pyplot.figure(</span><span class="s4">2</span><span class="s1">) 
pyplot.subplot(</span><span class="s4">121</span><span class="s1">) 
pyplot.title(</span><span class="s2">'Altitude vs. Time'</span><span class="s1">, fontsize=</span><span class="s4">15</span><span class="s1">, weight=</span><span class="s2">'bold'</span><span class="s1">) 
pyplot.plot(t, alt) 
pyplot.xlabel(</span><span class="s2">'Time (s)'</span><span class="s1">) 
pyplot.ylabel(</span><span class="s2">'Altitude (m)'</span><span class="s1">) 
 
 
pyplot.subplot(</span><span class="s4">122</span><span class="s1">) 
pyplot.title(</span><span class="s2">'Temperature vs. Time'</span><span class="s1">, fontsize=</span><span class="s4">15</span><span class="s1">, weight=</span><span class="s2">'bold'</span><span class="s1">) 
pyplot.plot(t, temp) 
pyplot.xlabel(</span><span class="s2">'Time (s)'</span><span class="s1">) 
pyplot.ylabel(</span><span class="s2">'Temperature (deg C)'</span><span class="s1">) 
pyplot.show() 
 
</span></pre>
</body>
</html>